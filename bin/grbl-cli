#!/usr/bin/env coffee
###
Command line main interface, starts up vorpal and hands off
to each of the various commands loaded as extensions.
###

vorpal = require('vorpal')()


cli = vorpal
  .use(require('../src/connect.coffee'))
  .use(require('../src/disconnect.coffee'))
  .use(require('../src/pause.coffee'))
  .use(require('../src/resume.coffee'))
  .use(require('../src/play.coffee'))
  .use(require('../src/home.coffee'))
  .use(require('../src/reset.coffee'))
  .use(require('../src/unlock.coffee'))
  .use(require('../src/set.js'))
  .use(require('../src/restore.js'))
  .use(require('../src/laser.js'))
  .use(require('../src/gcode.js'))
  .delimiter('grbl>')
  .show()
cli.exec "connect cu.usbmodem1421"
  .then -> cli.exec("play test/sample_error.gcode")
  .then -> cli.exec("play test/sample.gcode")
