#!/usr/bin/env node
"use strict";
/*
Command line main interface, starts up vorpal and hands off
to each of the various commands loaded as extensions.
*/

require("coffee-script/register");
let vorpal = require("vorpal")();


let cli = vorpal
  .use(require("../src/commands/connect.js"))
  .use(require("../src/commands/disconnect.js"))
  .use(require("../src/commands/play.js"))
  .use(require("../src/commands/pause.js"))
  .use(require("../src/commands/resume.js"))
  .use(require("../src/commands/reset.js"))
  .use(require("../src/commands/unlock.js"))
  .use(require("../src/commands/home.js"))
  .use(require("../src/commands/restore.js"))
  .use(require("../src/commands/status.js"))
  .use(require("../src/set.js"))
  .use(require("../src/laser.js"))
  .use(require("../src/gcode.js"))
  .delimiter("grbl>")
  .show();
cli.exec("connect cu.usbmodem14321")
  //.then( () => cli.exec("play test/sample.gcode"))
  //.then( () => cli.exec("play test/sample_error.gcode"));
  //.then( () => cli.exec("disconnect"));
  .then( () => cli.exec("status"));
